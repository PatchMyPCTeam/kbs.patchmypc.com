---
title: Advanced Configurations Using Registry Values for Publisher
date: 2019-10-04T00:00:00.000Z
taxonomy:
  products:
    - patch-my-pc-publisher
  tech-stack:
    - null
  solution:
    - null
  post_tag:
    - null
  sub-solutions:
    - customizations
    - general-configuration-and-usage
    - troubleshooting
---

# Registry Publisher Config

In this article, we will describe some **advanced settings** you can make using registry values for our [Publisher](../../docs/).

There are some scenarios where we need to change a default behavior to address specific customer issues/needs.&#x20;

These advanced settings are not available via the Publisher user-interface and can **only be set via RegValues**.

### Enable the Delete Update Button in the Modify Updates Wizard

The delete update button is not enabled by default because it can cause hash issues if an update is deleted while that product is still enabled, causing the same UpdateID to be republished. If you have a scenario to delete updates, such as cleaning up [vendors from WSUS](../../an-error-occurred-while-publishing-an-update-to-wsus-publishing-operation-failed-too-many-locally-published-categories/) you can enable the button using the value below.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v EnableDeleteUpdates /t REG\_DWORD /d 1 /f

### Save Detection Method PowerShell Scripts to Custom Folder

Based on [UserVoice feedback](https://ideas.patchmypc.com/ideas/PATCHMYPC-I-317), you can now save all PowerShell detection method scripts to a secondary folder location. By default, all detection method scripts are also saved to "Detection Method Scripts"

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v DetectionMethodScriptsAddtionalSavePath /t REG\_SZ /d "serverexamplefolder" /f

### Change SCCM Query to Use v\_GS\_INSTALLED\_SOFTWARE SQL View

By default, we use the v\_Add\_Remove\_Programs SQL view to query the supported products in our SCCM scan feature. For extremely large environments, SQL queries against this view can be slower since it’s not indexed.

You can change the view to use the v\_GS\_INSTALLED\_SOFTWARE for better performance since it is indexed. Note: this view will contain slightly different results since it’s [based on asset intelligence](https://www.enhansoft.com/configuration-manager-and-asset-intelligence/).

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v UseGSINSTALLEDSOFTWARE /t REG\_DWORD /d 1 /f

### Change the SQL Timeout Period

By default, the SQL timeout period for each product query is 90 seconds. This can be changed using the REG ADD command below where 300 is the number of seconds for the timeout. Valid timeout ranges are from 1 - 600.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v SQLTimeoutinSeconds /t REG\_DWORD /d "300" /f

### Increase the HTTP Download Timeout

By default, the [HTTP download timeout](https://docs.microsoft.com/en-us/dotnet/api/system.net.httpwebrequest.timeout?view=netframework-4.8) period is 15 minutes. This can be changed using the REG ADD command below where 1800 is the number of seconds for the timeout (30 minutes). Valid timeout ranges are from 10 - 3600 (10 seconds to 60 minutes).

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v DownloadTimeout /t REG\_DWORD /d 1800 /f

### Change the Timeout for Intune Reports

By default, the timeout when waiting for an Intune report to finish is five minutes. This can be changed using the REG ADD command below, where 10 is the number of minutes for the timeout.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v IntuneReportsRequestTimeout /t REG\_DWORD /d 10 /f

> **Note:** This registry setting was made available in version 2.1.36.32 of the Publisher.

### Change Catalog XML Parsing to Use Sequential Method

By default, we use a parallel method to parse our catalogs' XML. In some rare cases, you may receive an error in the [PatchMyPC.log](https://patchmypc.com/collecting-log-files-for-patch-my-pc-support#publishing-service-logs) saying:

Error while parsing XML node of the catalog: Index was outside the bounds of the array

If this occurs, add the registry value below to change it to use a sequential method, and restart the PatchMyPCService.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v UseSequentialMethod /t REG\_SZ /d "1" /f

### Force legacy method to sign PowerShell scripts

By default, we will attempt to use native .NET code in order to code sign PowerShell scripts that are generated by the Publisher. For example, detect scripts, requirement scripts, and recommended pre/post scripts. Additionally we fall back to using PowerShell to sign these scripts if the .NET signing fails. If .NET code signing is failing, or you do not wish to use it you can use the below REG ADD command and then restart the PatchMyPCService. The result is all code signing will be done using the Set-AuthenticodeSignature cmdlet.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v UseLegacyMethodToSignScript /t REG\_DWORD /d "1" /f

> **Note:** This registry setting was made available in version 2.0.5.1 of the Publisher.

### Change the max number of threads to use for uploading content to Azure

By default, the Publisher will use **10 threads when uploading chunks to azure for Intune publishing**. If the internet connection is unable to remain stable while the upload is occurring then the number of threads can be reduced. An example is below for setting the number of threads to 1. **The number of threads can range from 1-10** with 10 being the default.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v AzureUploaderMaxThreadCount /t REG\_DWORD /d "1" /f

> **Note:** This registry setting was made available in version 2.1.9.11 of the Publisher.

### Change the chunk size to use for uploading content to Azure

By default, the Publisher will use a **12MB chunk size when uploading chunks to Azure for Intune publishing**. You may want to adjust this if the Publisher is failing to uploaded files to Intune. The maximum value is 12582912, or about 12MB, and the minimum value is 2097152, or about 2MB. An example is below for setting the chunk size to 10485760, or about 10MB.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v AzureUploaderChunkSize /t REG\_DWORD /d "10485760" /f

> **Note:** This registry setting was made available in version 2.1.21.12 of the Publisher.

### Use the embedded browser for creating the cloud connection

By default, the Publisher will use the 'System Default' browser when prompting for credentials when creating a cloud connection. If this does not allow for a connection to be created it is possible to switch to the 'Embedded' browser.

* REG ADD "HKLM\SOFTWARE\Patch My PC Publishing Service" /v MsalUseEmbeddedWebView /t REG\_DWORD /d "1" /f

> **Note:** This registry setting was made available in version 2.1.21.2 of the Publisher.
